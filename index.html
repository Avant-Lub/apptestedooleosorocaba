<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a3a52">
    <title>Do Óleo Sorocaba - Orçamento Inteligente</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Estilos básicos para garantir o funcionamento sem o style.css externo */
        :root {
            --primary: #007bff;
            --secondary: #6c757d;
            --success: #28a745;
            --danger: #dc3545;
            --dark: #1a3a52;
        }
        body { font-family: 'Inter', sans-serif; background: #f4f7f9; margin: 0; padding: 0; }
        .container { max-width: 600px; margin: 20px auto; padding: 20px; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: none; }
        .card.active { display: block; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: 600; color: var(--dark); }
        .styled-input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .plate-input { text-transform: uppercase; font-family: monospace; font-weight: bold; letter-spacing: 2px; text-align: center; font-size: 24px; }
        .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.3s; width: 100%; margin-top: 10px; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-secondary { background: var(--secondary); color: white; }
        .btn-whatsapp { background: #25d366; color: white; }
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .option-card { border: 2px solid #eee; border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; transition: 0.3s; }
        .option-card.selected { border-color: var(--primary); background: #e7f1ff; }
        .option-card i { font-size: 24px; display: block; margin-bottom: 10px; color: var(--primary); }
        .progress-container { margin-bottom: 20px; }
        .progress-bar { background: #eee; height: 8px; border-radius: 4px; overflow: hidden; }
        .progress-fill { background: var(--primary); height: 100%; width: 33%; transition: 0.3s; }
        #toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 12px 24px; border-radius: 30px; display: none; z-index: 1000; transition: 0.5s; }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 2000; }
        .modal { background: white; padding: 30px; border-radius: 16px; width: 90%; max-width: 400px; }
        .summary-item { margin-bottom: 10px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .summary-label { font-weight: bold; color: var(--secondary); }
        .uppercase { text-transform: uppercase; }
    </style>
</head>
<body>

    <header style="background: var(--dark); color: white; padding: 20px; text-align: center;">
        <img src="https://dooleosorocaba.com.br/wp-content/uploads/2023/05/logo-do-oleo-sorocaba.png" alt="Do Óleo Sorocaba" style="max-width: 150px;">
        <h2>Orçamento Rápido</h2>
    </header>

    <div class="container">
        <div class="progress-container">
            <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
        </div>

        <!-- Passo 1 -->
        <div class="card active" id="step1">
            <h3><i class="fas fa-user"></i> Seus Dados</h3>
            <div class="form-group">
                <label>Nome</label>
                <input type="text" id="clientName" class="styled-input" placeholder="Seu nome">
            </div>
            <div class="form-group">
                <label>WhatsApp</label>
                <input type="tel" id="clientPhone" class="styled-input" placeholder="(15) 99999-9999">
            </div>
            <button class="btn btn-primary" onclick="nextStep(2)">Próximo</button>
        </div>

        <!-- Passo 2 -->
        <div class="card" id="step2">
            <h3><i class="fas fa-car"></i> Veículo</h3>
            <div class="form-group">
                <label>Placa do Veículo</label>
                <input type="text" id="licensePlate" placeholder="ABC1D23" maxlength="8" class="styled-input plate-input">
            </div>
            
            <div id="manualVehicleFields">
                <div class="form-group">
                    <label>Marca</label>
                    <input type="text" id="brand" class="styled-input uppercase">
                </div>
                <div class="form-group">
                    <label>Modelo</label>
                    <input type="text" id="model" class="styled-input uppercase">
                </div>
                <div class="form-group">
                    <label>Motorização</label>
                    <input type="text" id="displacement" class="styled-input uppercase">
                </div>
                <div class="options-grid">
                    <div class="form-group"><label>Ano Fab.</label><input type="text" id="yearManufacture" class="styled-input"></div>
                    <div class="form-group"><label>Ano Mod.</label><input type="text" id="yearModel" class="styled-input"></div>
                </div>
            </div>

            <div class="options-grid">
                <button class="btn btn-secondary" onclick="prevStep(1)">Voltar</button>
                <button class="btn btn-primary" onclick="nextStep(3)">Próximo</button>
            </div>
        </div>

        <!-- Passo 3 -->
        <div class="card" id="step3">
            <h3><i class="fas fa-tools"></i> Serviços</h3>
            <div class="options-grid">
                <div class="option-card" data-value="oil" onclick="toggleService(this)"><i class="fas fa-oil-can"></i><span>Óleo</span></div>
                <div class="option-card" data-value="transmission" onclick="toggleService(this)"><i class="fas fa-cogs"></i><span>Câmbio</span></div>
                <div class="option-card" data-value="arrefecimento" onclick="toggleService(this)"><i class="fas fa-thermometer-half"></i><span>Arrefecimento</span></div>
                <div class="option-card" data-value="disco-dianteiras" onclick="toggleService(this)"><i class="fas fa-circle-notch"></i><span>Freio Diant.</span></div>
                <div class="option-card" data-value="disco-traseiras" onclick="toggleService(this)"><i class="fas fa-circle-notch"></i><span>Freio Tras.</span></div>
                <div class="option-card" data-value="bieletas-dianteiras" onclick="toggleService(this)"><i class="fas fa-link"></i><span>Bieletas</span></div>
            </div>

            <div id="brakeTypeSection" style="display: none; margin-top: 15px;">
                <label>Freio de Mão</label>
                <select id="brakeType" class="styled-input">
                    <option value="">Selecione...</option>
                    <option value="Manual">Manual</option>
                    <option value="Eletrônico">Eletrônico</option>
                </select>
            </div>

            <div id="oilPreference" style="display: none; margin-top: 15px;">
                <label>Preferência de Óleo</label>
                <select id="oilType" class="styled-input">
                    <option value="Indique-me a melhor opção">Indique-me a melhor opção</option>
                    <option value="Sintético">Sintético</option>
                    <option value="Semissintético">Semissintético</option>
                </select>
            </div>

            <div class="options-grid">
                <button class="btn btn-secondary" onclick="prevStep(2)">Voltar</button>
                <button class="btn btn-primary" onclick="showSummary()">Revisar</button>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <h3>Resumo</h3>
            <div id="summaryContent">
                <div class="summary-item"><span class="summary-label">Cliente:</span> <span id="sumName"></span></div>
                <div class="summary-item"><span class="summary-label">Veículo:</span> <span id="sumVehicle"></span></div>
                <div class="summary-item"><span class="summary-label">Serviços:</span> <span id="sumServices"></span></div>
            </div>
            <button class="btn btn-whatsapp" onclick="sendWhatsApp()">Enviar WhatsApp</button>
            <button class="btn btn-secondary" onclick="closeModal()">Ajustar</button>
        </div>
    </div>

    <div id="toast"></div>

    <script src="script.js"></script>
</body>
</html>
